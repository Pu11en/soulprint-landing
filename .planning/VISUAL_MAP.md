# SoulPrint - Visual Map

## ğŸ¯ Core Value
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘   ğŸ“¤ Import ChatGPT History  â”€â”€â–¶  ğŸ§  AI That Knows You       â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ—ºï¸ System Architecture

```
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚              USER (Mobile-First)            â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           NEXT.JS (Vercel)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   /signup   â”‚  â”‚   /import   â”‚  â”‚    /chat    â”‚  â”‚   /api/...          â”‚  â”‚
â”‚  â”‚   /login    â”‚  â”‚  (upload)   â”‚  â”‚  (converse) â”‚  â”‚   process-server    â”‚  â”‚
â”‚  â”‚   /enter    â”‚  â”‚             â”‚  â”‚             â”‚  â”‚   chat, import      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚                   â”‚
                    â–¼                   â–¼                   â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚    SUPABASE     â”‚  â”‚   RLM SERVICE   â”‚  â”‚   AWS BEDROCK   â”‚
          â”‚                 â”‚  â”‚    (Render)     â”‚  â”‚                 â”‚
          â”‚  â€¢ Auth         â”‚  â”‚                 â”‚  â”‚  â€¢ Claude 3.5   â”‚
          â”‚  â€¢ PostgreSQL   â”‚  â”‚  â€¢ Soulprint    â”‚  â”‚    Haiku (LLM)  â”‚
          â”‚  â€¢ pgvector     â”‚  â”‚    generation   â”‚  â”‚                 â”‚
          â”‚  â€¢ Storage      â”‚  â”‚  â€¢ Memory RAG   â”‚  â”‚  â€¢ Cohere Embed â”‚
          â”‚    (ZIP files)  â”‚  â”‚  â€¢ 5-layer RLM  â”‚  â”‚    v3 (vectors) â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   WEB SEARCH    â”‚
                              â”‚  â€¢ Perplexity   â”‚
                              â”‚  â€¢ Tavily       â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš¶ User Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                    â”‚
â”‚  1ï¸âƒ£ SIGNUP          2ï¸âƒ£ UPLOAD          3ï¸âƒ£ PROCESS          4ï¸âƒ£ CHAT              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€              â”‚
â”‚                                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  Email  â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Drop   â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Parse & â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Talk   â”‚            â”‚
â”‚  â”‚   or    â”‚        â”‚  ZIP    â”‚        â”‚  Embed  â”‚        â”‚  to AI  â”‚            â”‚
â”‚  â”‚ Google  â”‚        â”‚  File   â”‚        â”‚  Async  â”‚        â”‚ (knows  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  you!)  â”‚            â”‚
â”‚       â”‚                  â”‚                  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
â”‚       â–¼                  â–¼                  â–¼                  â–¼                  â”‚
â”‚  user_profiles     Supabase          conversation_       Memory-enhanced         â”‚
â”‚  created           Storage           chunks created       responses              â”‚
â”‚                                      embeddings gen       + learning             â”‚
â”‚                                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Current Status

```
STATUS LEGEND:  âœ… Working   âš ï¸ Broken/Issues   ğŸ”² Not Started   ğŸ”„ In Progress

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FEATURE                          â”‚  STATUS    â”‚  NOTES        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Auth (signup/login/Google)       â”‚     ?      â”‚               â”‚
â”‚  Mobile upload                    â”‚     ?      â”‚               â”‚
â”‚  ZIP parsing                      â”‚     ?      â”‚               â”‚
â”‚  Chunk creation                   â”‚     ?      â”‚               â”‚
â”‚  Embedding generation             â”‚     ?      â”‚               â”‚
â”‚  Soulprint generation             â”‚     ?      â”‚               â”‚
â”‚  Chat (basic)                     â”‚     ?      â”‚               â”‚
â”‚  Memory retrieval (RAG)           â”‚     ?      â”‚               â”‚
â”‚  Email notifications              â”‚     ?      â”‚               â”‚
â”‚  Error handling                   â”‚     ?      â”‚               â”‚
â”‚  Progress indicators              â”‚     ğŸ”²     â”‚  Not built    â”‚
â”‚  Large files (>500MB)             â”‚     ğŸ”²     â”‚  Not built    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â¬†ï¸ NEED YOUR INPUT! â¬†ï¸
                    Which of these are broken?
```

---

## ğŸ› Issues to Triage

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TELL ME WHAT'S BROKEN                                                     â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                    â”‚
â”‚                                                                            â”‚
â”‚  1. _______________________________________________________________       â”‚
â”‚                                                                            â”‚
â”‚  2. _______________________________________________________________       â”‚
â”‚                                                                            â”‚
â”‚  3. _______________________________________________________________       â”‚
â”‚                                                                            â”‚
â”‚  4. _______________________________________________________________       â”‚
â”‚                                                                            â”‚
â”‚  5. _______________________________________________________________       â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Database Schema (12 Tables)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  user_profiles  â”‚     â”‚ conversation_   â”‚     â”‚ learned_facts   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚ chunks          â”‚     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  â€¢ soulprint    â”‚     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚     â”‚  â€¢ fact text    â”‚
â”‚  â€¢ import_statusâ”‚â”€â”€â”€â”€â–¶â”‚ â€¢ text chunks   â”‚â”€â”€â”€â”€â–¶â”‚  â€¢ embedding    â”‚
â”‚  â€¢ settings     â”‚     â”‚ â€¢ embeddings    â”‚     â”‚  â€¢ source       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â€¢ pgvector      â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
        â”‚                       â”‚
        â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ raw_conversationsâ”‚    â”‚  chat_messages  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ â€¢ full messages  â”‚    â”‚ â€¢ chat history  â”‚
â”‚ â€¢ metadata       â”‚    â”‚ â€¢ timestamps    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OTHER: user_stats, achievements, user_achievements, tasks, import_jobs, waitlist, referrals
```

---

## ğŸ”§ Key Files

```
IMPORT FLOW:
â”œâ”€â”€ app/import/page.tsx              # Upload UI
â”œâ”€â”€ app/api/import/get-upload-url/   # Signed URL for Storage
â”œâ”€â”€ app/api/import/process-server/   # ZIP parsing, chunking
â”œâ”€â”€ lib/import/parser.ts             # Parse ChatGPT format
â”œâ”€â”€ lib/import/chunker.ts            # Create conversation chunks
â”œâ”€â”€ lib/import/embedder.ts           # Generate embeddings
â””â”€â”€ lib/import/soulprint.ts          # Generate personality profile

CHAT FLOW:
â”œâ”€â”€ app/chat/page.tsx                # Chat UI
â”œâ”€â”€ app/api/chat/route.ts            # Main chat endpoint
â”œâ”€â”€ lib/memory/query.ts              # RAG retrieval
â”œâ”€â”€ lib/rlm/client.ts                # RLM service client
â””â”€â”€ lib/search/perplexity.ts         # Web search

AUTH:
â”œâ”€â”€ app/signup/page.tsx
â”œâ”€â”€ app/login/page.tsx
â”œâ”€â”€ app/auth/callback/route.ts
â””â”€â”€ lib/supabase/server.ts
```

---

*Generated by Asset for SoulPrint planning session*
*Fill in the status and issues above to create action plan*
